var SelectText,ajaxLoadingLeft,ajaxObjects,baseChartColor,baseUrl,bindSIUModalEvents,chartColorsComp,chartColorsPie,chartColorsPie2,chartsData,chartsId,chartsObject,checkCompetitorsPhase,checkLocalCurrency,cleanWooRankLinks,clearErrorOnField,closeSIUModal,compCriteriums,competitorToCheck,competitorUrl,competitorUrls,convertSerializedArrayToHash,criteriumsLoading,critsOnSocket,currentCompetitorNbr,currentScoring,currentWebsite,desktopScreenshot,eraseCookie,extractLast,faqSuggestUrl,fetchedData,fetchs,fetchsData,finalScoring,getCookie,getParameterByName,hashDiff,isExtension,isInsideReview,isMobile,isPaidReview,isSharedReview,jsLoadEnd,keySuggestUrl,lcDetailsLoad,maxTop,mustacheMainTemplate,mustacheTemplates,openSIUModal,performFieldValidation,performMailCheckJs,postBackUrl,projectDataUrl,puChanel,pusher,radius,re_weburl,replaceExtLink,reportId,reportSaveUrl,saveSettingsInReviewUrl,savingToken,scrollTo,sendSIURequest,setCookie,settingsInReviewUrl,shortUrl,showChoise,showErrorForField,showSignIn,showSignUp,socialMediaCat,split,stripAccent,strokeSize,todoAutoCheckUrl,todoSaveUrl,toggleSignBoxes,urlToFetch,validateEmailAddress,validateURL,widthHeight,wooBubble,wooCounter,wooFlyingMenu,wooFormBackup,wooLang,wooLangTmp,wooLcCounters;wooLangTmp=$("body").attr("lang"),wooLang=void 0===wooLangTmp||""===wooLangTmp?"en":wooLangTmp,wooCounter=null,radius=78,widthHeight=160,strokeSize=4,currentScoring=0,finalScoring=0,wooFlyingMenu=null,wooBubble=null,maxTop=null,currentWebsite=null,isPaidReview=!1,isInsideReview=!1,isExtension=!1,isMobile=!1,desktopScreenshot="",reportId=0,chartsId=0,chartsData=[],chartsObject=[],baseChartColor="#315d86",chartColorsPie=[baseChartColor,"#ddd","#aaa","#999"],chartColorsPie2=[baseChartColor,"#6a93ba","#ddd","#aaa"],chartColorsComp=["#b1e5e6","#569596","#2a494a","#888888"],criteriumsLoading=[],ajaxLoadingLeft=0,savingToken=null,critsOnSocket=[],checkCompetitorsPhase=!1,competitorUrls=[],compCriteriums=[],currentCompetitorNbr=0,urlToFetch={},fetchedData={},isSharedReview=!1,pusher=null,puChanel=!1,wooFormBackup=null,wooLcCounters=[],mustacheMainTemplate="",mustacheTemplates={},socialMediaCat=[],baseUrl="/"+wooLang+"/",projectDataUrl=baseUrl+"project/data",keySuggestUrl=baseUrl+"project/ajaxkeywordssuggest",settingsInReviewUrl=baseUrl+"project/revsettings",saveSettingsInReviewUrl=baseUrl+"project/saverevsettings",lcDetailsLoad=baseUrl+"project/lcdetails",todoAutoCheckUrl=baseUrl+"todo/todoac",todoSaveUrl=baseUrl+"todo/save",faqSuggestUrl=baseUrl+"faqs/ajaxsearch",reportSaveUrl=baseUrl+"report/save",shortUrl=baseUrl+"report/shorturl",postBackUrl="/postback.php",fetchs=[],fetchsData=[],socialMediaCat=[],ajaxObjects=null,competitorUrl=null,competitorToCheck=!1,stripAccent=function(e){var t,n,r;for(r=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],t=0,n=r.length;n>t;)e=e.replace(r[t].re,r[t].ch),t++;return e},split=function(e){return e.split(/,\s*/)},extractLast=function(e){return split(e).pop()},convertSerializedArrayToHash=function(e){var t,n;for(n={},t=0;e.length>t;)n[e[t].name]=e[t].value,t++;return n},hashDiff=function(e,t){var n,r;n="";for(r in e)e[r]===t[r]?delete t[r]:1===e[r]&&(t[r]="0");for(r in t)t[r]&&(n+="&"+r+"="+encodeURIComponent(t[r]));return n},getParameterByName=function(e){var t,n,r;return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n="[\\?&]"+e+"=([^&#]*)",t=RegExp(n),r=t.exec(window.location.search),null==r?"":decodeURIComponent(r[1].replace(/\+/g," "))},scrollTo=function(e,t,n,r){var o,a,i,s;return i=34,s=parseInt($("#top").attr("fake-offset")),isNaN(s)||(i+=s),a=$(e).offset().top-i,o=$("html,body"),$.browser.safari&&(o=$("body")),o.stop().animate({scrollTop:a},t,n,r)},window.scrollToObj=function(e){return scrollTo(e,500)},SelectText=function(e){var t,n,r,o;return t=document,o=t.getElementById(e),t.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(o),n.select()):window.getSelection?(r=window.getSelection(),n=document.createRange(),n.selectNodeContents(o),r.removeAllRanges(),r.addRange(n)):void 0},re_weburl=RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i"),validateURL=function(e){return re_weburl.test(e)},cleanWooRankLinks=function(){return $("a[href*='/woorank.com'], a[href*='.woorank.com']").attr("href",""),$("a[href^='/']").remove()},setCookie=function(e,t,n){var r,o;return n?(r=new Date,r.setTime(r.getTime()+1e3*60*60*24*n),o="; expires="+r.toGMTString()):o="",document.cookie=""+escape(e)+"="+escape(t)+o+"; path=/"},getCookie=function(e){var t,n,r,o,a;for(a=document.cookie.split(";"),r=0,o=a.length;o>r;r++)if(t=a[r],n=t.split("=").map(function(e){return e.trim()}),n[0]===escape(e))return unescape(n[1]);return null},eraseCookie=function(e){return setCookie(e,"",-1)},window.showModalQuestion=!0,window.siuModalContainer=$("#siu-modal-container"),window.siuConversionType=null,validateEmailAddress=function(e){var t,n;return n=e.val(),t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,0===n.length||t.test(n)},performMailCheckJs=function(e){var t,n,r;return r=e.val(),t=e.parent(),n=t.prev().find(".suggest"),r.length>30?clearErrorOnField(e):e.mailcheck({suggested:function(t,r){return n.html(n.attr("data-lang")+" <a href='#' class='mailcheck-suggestion'>"+r.full+"</a> ?"),showErrorForField(e,"suggest"),n.find("a.mailcheck-suggestion").click(function(t){var n;return t.preventDefault(),n=$(this),e.val(n.html()),n.html(""),clearErrorOnField(e)})},empty:function(){return clearErrorOnField(e)}})},openSIUModal=function(e,t){return null==t&&(t="signup"),e.removeClass("hidden"),"signup"===t&&showSignUp(e),"signin"===t&&showSignIn(e),"choise"===t?showChoise(e):void 0},closeSIUModal=function(e){return _gaq.push(["_trackEvent","SUI-modal","closeModal","modal:"+e.attr("class")]),e.addClass("hidden"),e.removeClass("signup-open signin-open choise-open").find(".signup, .signin, .choise").attr("style","")},showSignIn=function(e){return window.modalRequestType="login",_gaq.push(["_trackEvent","SUI-modal","showSignIn","body:"+$("body").attr("class")]),e.hasClass("signup-open")?toggleSignBoxes(e):e.addClass("signin-open").find("div.signin input.mail").focus()},showSignUp=function(e){return _gaq.push(["_trackEvent","SUI-modal","showSignUp","body:"+$("body").attr("class")]),e.hasClass("signin-open")?toggleSignBoxes(e):e.addClass("signup-open").find("div.signup input.mail").focus()},showChoise=function(e){return _gaq.push(["_trackEvent","SUI-modal","showChoise","body:"+$("body").attr("class")]),e.find("div.choise").show(),e.find("div.signup, div.signin").hide().removeClass("signin-open signup-open"),e.addClass("choise-open"),e.find("div.choise a.link-choise").on("touchstart click",function(){var e,t;return t=$(this),e=t.data("type"),setCookie("sui-choise-type",e,.1),window.location.href=t.attr("href")}),e.find("div.choise a.link-choise *").on("touchstart click",function(){return $(this).parents("a.link-choise").trigger("click")})},toggleSignBoxes=function(e){var t,n,r;return _gaq.push(["_trackEvent","SUI-modal","toggleFrom","modal:"+e.attr("class")]),e.hasClass("signin-open")?(n=e.find("div.signup"),t=e.find("div.signin")):(n=e.find("div.signin"),t=e.find("div.signup")),r=t.find("input.mailcheck").val(),""!==r&&n.find("input.mailcheck").val(r),t.hide(),n.show().find("input.mail").focus(),e.toggleClass("signin-open signup-open")},clearErrorOnField=function(e){var t;return t=e.parent().removeClass("error"),t.prev(".error-msg").removeClass("visible")},showErrorForField=function(e,t,n){var r,o;return null==t&&(t="default"),null==n&&(n=!1),o=e.parent(),_gaq.push(["_trackEvent","SUI-modal","displayError","error:"+n]),"suggest"!==t&&o.addClass("error"),r=o.prev(".error-msg").addClass("visible"),r.find(">span").hide(),r.find(">span."+t).show(),n?r.find(">span."+t).html(n):void 0},performFieldValidation=function(e){var t;return t=!0,e.each(function(){var e,n;return e=$(this),clearErrorOnField(e),e.hasClass("mailcheck")?(n=e.val(),n=$.trim(n),e.val(n),""===n?(t=!1,showErrorForField(e)):validateEmailAddress(e)?performMailCheckJs(e):(t=!1,showErrorForField(e,"mail"))):"password"===e.attr("type")&&""===e.val()?(showErrorForField(e),t=!1):void 0}),_gaq.push(["_trackEvent","SUI-modal","FieldsValidation","result:"+t]),t},sendSIURequest=function(e){var t,n,r,o,a,i,s,l;return _gaq.push(["_trackEvent","SUI-modal","sendForm",e.attr("id")]),t=e.find(".button").attr("disabled","disabled").addClass("wait"),r=e.find(".mailcheck"),o=r.val(),i=e.find(".password"),s=i.val(),l=e.attr("action"),a={email:o,password:s,cType:siuConversionType},n=function(n){var r,o,a;return null!=n.error?(t.attr("disabled",!1).removeClass("wait"),r=n.fieldConcerned,o=n.data,_gaq.push(["_trackEvent","SUI-modal","AjaxResultErrorOn",r]),"general"===r?a=e.find(".gen-error").removeClass("hidden").html(o):(a=e.find("input."+r),showErrorForField(a,"server",o))):(_gaq.push(["_trackEvent","SUI-modal","AjaxResultOK","type:"+modalRequestType]),("undefined"==typeof modalRequestType||null===modalRequestType)&&(window.modalRequestType="choise"),"login"===modalRequestType||n.redirectTo?window.location.href=n.redirectTo:showModalQuestion&&"choise"===modalRequestType?(t.attr("disabled",!1).removeClass("wait"),window.baseLocationHref=n.planUrl,showChoise(siuModalContainer)):("choise"===modalRequestType&&(window.modalRequestType="v2pro"),window.location.href=n.planUrl+modalRequestType))},"login"===modalRequestType&&$.browser.msie&&"9"===$.browser.version[0]?(window.ieRealSubmit=!0,e.append('<input type="hidden" name="msie" value="9" />'),e.trigger("submit")):$.ajax({url:l,data:a,type:"POST",async:!0,xhrFields:{withCredentials:!0},success:n})},bindSIUModalEvents=function(){var e;return siuModalContainer.length>0?($(".start-trial").on("click",function(e){var t;return e.preventDefault(),t=$(this),null!=t.attr("data-type")&&(window.siuConversionType=t.attr("data-type")),_gaq.push(["_trackEvent","start-trial",t.attr("name")]),window.modalRequestType=t.attr("data-plan")||"v2pro",openSIUModal(siuModalContainer)}),$("#login-container .link").on("click",function(e){return e.preventDefault(),window.modalRequestType=$(this).val(),openSIUModal(siuModalContainer,"signin")}),siuModalContainer.find(".overlay, a.siu-modal-closer").on("click",function(e){return e.preventDefault(),closeSIUModal(siuModalContainer)}),siuModalContainer.find("a.show-signin").on("click",function(e){return e.preventDefault(),showSignIn(siuModalContainer)}),siuModalContainer.find("a.show-signup").on("click",function(e){return window.modalRequestType="choise",e.preventDefault(),showSignUp(siuModalContainer)}),siuModalContainer.find("input").on("blur",function(){return performFieldValidation($(this))}),siuModalContainer.find("input").on("focus",function(){return clearErrorOnField($(this))}),siuModalContainer.find("form").on("submit",function(e){var t;return!window.ieRealSubmit&&(e.preventDefault(),t=$(this),t.find(".gen-error").addClass("hidden").html(""),performFieldValidation(t.find("input")))?sendSIURequest(t):void 0}),e=getParameterByName("show"),setTimeout(function(){var t;return"login"===e||$("body").hasClass("login-required")?openSIUModal(siuModalContainer,"signin"):"signup"===e?(t=getParameterByName("plan"),window.modalRequestType="choise",null!=t&&""!==t&&(window.modalRequestType=t),openSIUModal(siuModalContainer)):void 0},200)):($("#login-container .link").on("click",function(e){var t;return e.preventDefault(),t="/","en"!==wooLang&&(t="/"+wooLang),window.location.href=t+"?show=login"}),$(".start-trial").on("click",function(e){var t;return e.preventDefault(),t=$(this),_gaq.push(["_trackEvent","start-trial",t.attr("name")]),window.location.href=t.val()}))},$("#lang-container>span, #logged-container>span").on("click htmlClick",function(e){var t;return t=$(this).parent(),e.preventDefault(),e.stopPropagation(),$("html").off("click"),t.hasClass("open")?t.find("nav").slideUp(400,function(){return t.removeClass("open")}):(t.addClass("open").find("nav").slideDown(400),$("html").on("click",function(e){return t.find(">span").trigger("htmlClick"),e.preventDefault(),e.stopPropagation()}))}),$("#lang-container nav a, #logged-container nav a").click(function(e){return e.stopPropagation()}),$(".input-label").on("focus",function(){return $(this).hasClass("label-default")?$(this).attr("value","").removeClass("label-default").prev(".over-input-label").fadeOut(100):void 0}),$(".input-label").on("focusout",function(){return 0===$(this).attr("value").length||3>$(this).attr("value").length&&"password"!==$(this).attr("type")?$(this).attr("value","").addClass("label-default").prev(".over-input-label").fadeIn(100):void 0}),$("form.to-validate").on("submit",function(e){var t,n,r;return n=$(this).removeClass("error"),t=n.find("input.required").removeClass("error"),r=!0,t.each(function(){var e;return e=$(this),""===e.val()?(n.addClass("error"),e.addClass("error"),r=!1):void 0}),r?void 0:e.preventDefault()}),$("#social-sharing-box>a").on("click",function(){var e,t,n;return n=$(this),t=n.parent().attr("class"),e=n.attr("class"),_gaq.push(["_trackSocial",e,t])}),$(".show-links a").live("click",function(e){var t,n,r;return e.preventDefault(),r=$(this),n=r.parent(".show-links").toggleClass("open").prev("table, ol, ul, .max5, .max6, .over-max-list, .js-truncated-content").toggleClass("open"),t=n.find(".over-max:not(.task-content), .over-max.ui-accordion-content-active, .over-max-v"),t.toggleClass("over-max over-max-v")}),$(".woo-tooltip, .simple-tooltip").tooltip({delay:{show:400,hide:100}}).on("click",function(e){return"#"===$(this).attr("href")?e.preventDefault():void 0}),$(".woo-popover").popover({delay:{show:400,hide:100},trigger:"hover",content:function(){return $(this).next(".popover-data").html()}}),$("a.open-link-popup").on("click",function(e){var t,n,r;return e.preventDefault(),t=$(this).attr("href"),r=$(this).attr("title"),n=$(window).width()/2-325,window.open(t,r,"menubar=no, status=no, scrollbars=no, menubar=no, width=650, height=450, left="+n+", top=100")}),$(function(){var e;return $.support.cors=!0,bindSIUModalEvents(),window.doHighlight=function(e){var t,n,r,o,a,i,s,l;switch(i=$("body"),s=[],a=2e3,r=!1,e){case"inside-review":$("body").hasClass("review")&&(scrollTo($("body"),500),r=!0,t=$("#generate-report"),s.push(t),setTimeout(function(){var e,t,n;return e=$("#generate-report-input"),n=e.prop("value"),"/"!==n.slice(-1)&&(n+="/"),e.prop("value",n),t=e.prop("value").length,e[0].setSelectionRange(t,t),e.focus()},0));break;case"competitors":r=!0,n=$("#generate-report"),s.push(n),setTimeout(function(){return n.find(".icon-plus").trigger("click")},a);break;case"notification":r=!0,n=$("#email-notification"),s.push(n),s.push($("#email_settings")),setTimeout(function(){return scrollTo(n)},a);break;case"start-project":r=!0,s.push($("#report-priorities .convert")),s.push($("#flying #project")),s.push($("#flying #todos")),s.push($("#flying #settings"));break;case"star":r=!0,n=$("#reports-list .entry:first-child"),s.push(n),setTimeout(function(){return n.find("i.icon-star-empty").tooltip("show")},a)}if(r){i.addClass("overlayed").append('<div id="whl-overlay"></div>'),l=i.find("#whl-overlay");for(o in s)s[o].addClass("whl-highlighted");return l.on("click",function(){return i.removeClass("overlayed"),l.fadeOut(150,function(){for(o in s)s[o].removeClass("whl-highlighted");return l.off("click").remove()})})}},e=getParameterByName("whl"),e?window.doHighlight(e):void 0}),function(e){e.textMetrics=function(t){var n,r,o,a,i;return r=0,i=0,n=document.createElement("div"),document.body.appendChild(n),e(n).css({position:"absolute",left:-1e3,top:-1e3,visibility:"hidden"}),e(n).html(e(t).html()),a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],e(a).each(function(){var r;r=""+this,e(n).css(r,e(t).css(r))}),r=e(n).outerHeight(),i=e(n).outerWidth(),e(n).remove(),o={height:r,width:i}},e.fn.fitText=function(t){var n;return n=e.extend({minSize:12,maxSize:48,mediaQueries:!1},t),this.each(function(){var t,r;t=e(this),r=function(){var r,o,a,i,s,l,c,d,u;if(r=parseInt(t.css("font-size").replace("px","")),a=e.textMetrics(t).width,o=.98*t.width(),l=o/a,s=r*l,d=!1,n.mediaQueries){u=n.mediaQueries;for(c in u)i=u[c],window.innerWidth>=c&&(d=!0,s>i.maxSize?s=i.maxSize:i.minSize>s&&(s=i.minSize))}d||(s>n.maxSize?s=n.maxSize:n.minSize>s&&(s=n.minSize)),t.css("font-size",s+"px")},r(),e(window).on("resize.fittext orientationchange.fittext",r)})}}(jQuery),jsLoadEnd=function(){return $(window).trigger("scroll"),replaceExtLink(),$(".hide-on-load").removeClass("hide-on-load"),checkLocalCurrency()},$(function(){return jsLoadEnd()}),checkLocalCurrency=function(){return"u"===$("body").attr("lc")?$.ajax({url:"/lc-check.php",async:!0,dataType:"json",success:function(e){var t,n;return e.updPrices?(t=$("body").hasClass("home"),n="/en/register/priceslist",t&&(n="/en/home/priceslist"),$.ajax({url:n,async:!0,dataType:"json",success:function(e){var n;return n=t?$("#multiuser-table, #pricing-table").find(".price .orange"):$("#translations-for-form p.price, #translations-for-form .due-title span"),n.each(function(){var n,r,o,a;return a=$(this),n=e[a.text()],n&&""!==n?(t&&(o=a.parent(),r=o.text(),o.after('<p class="subprice">'+r+"</p>")),a.text(n)):void 0})}})):void 0}}):void 0},replaceExtLink=function(){return isSharedReview?cleanWooRankLinks():void 0};